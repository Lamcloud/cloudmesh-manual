

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>12. cloudmesh-emr &mdash; Cloudmesh v4 alpha documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1. Code Conventions" href="../dev/conventions.html" />
    <link rel="prev" title="11. cloudmesh-batch" href="batch.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cloudmesh v4
          

          
          </a>

          
            
            
              <div class="version">
                4.0.28
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">PREFACE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preface/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/contributors.html">2. Contributors</a></li>
</ul>
<p class="caption"><span class="caption-text">INSTALLATION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/install.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/quickstart.html">2. Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">3. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/mongo.html">4. Cloudmesh Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/encryption.html">5. Cloudmesh Yaml file Encrytion</a></li>
</ul>
<p class="caption"><span class="caption-text">SOMMAND SHELL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cmd5.html">1. Cmd5</a></li>
</ul>
<p class="caption"><span class="caption-text">CLOUD SERVICES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../group.html">1. Group command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/vm.html">2. Virtual Machine Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/image.html">3. Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/flavor.html">4. Flavors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html">5. Cloudmesh Multi Cloud Storage Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">6. Infrastructure Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter.html">7. Jupyter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc/batch.html">8. Batch</a></li>
</ul>
<p class="caption"><span class="caption-text">openapi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../openapi/README-storage-openapi.html">1. Cloudmesh Multi Cloud Open API Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openapi/ufo.html">2. REST Service (outdated)</a></li>
</ul>
<p class="caption"><span class="caption-text">MANUAL PAGES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference-card.html">1. Reference Card (proposed)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/commands.html">2. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-cmd5.html">3. Manual Cmd5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-group.html">4. Manual Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-compute.html">5. Compute Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-storage.html">6. Storage Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-other.html">7. Manual Other</a></li>
</ul>
<p class="caption"><span class="caption-text">DATABASE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../storage/database.html">1. Cloudmesh Database</a></li>
</ul>
<p class="caption"><span class="caption-text">BENCHMARKS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/README.html">1. Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/awsec2-vm-management-benchmark.html">2. AWS EC2 VM Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/awsec2_benchmark_ubuntu.html">3. AWS EC2 VM Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/awss3-storage-benchmark.html">4. AWS S3 File Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/azure-storage-benchmark.html">5. Azure Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/box.html">6. Benchmark results for box Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/emr.html">7. AWS EMR Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/test_compute_database.html">8. AWS EC2 Compute Database</a></li>
</ul>
<p class="caption"><span class="caption-text">CODE</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="code.html">1. Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">2. Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmd5.html">3. CMD5</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloudmesh.html">4. Cloudmesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="management.html">5. Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongo.html">6. Mongo</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">7. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory.html">8. Inventory</a></li>
<li class="toctree-l1"><a class="reference internal" href="storage.html">9. cloudmesh-storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">10. cloudmesh-cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch.html">11. cloudmesh-batch</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">12. cloudmesh-emr</a></li>
</ul>
<p class="caption"><span class="caption-text">CONTRIBUTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/conventions.html">1. Code Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html">2. Code Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html#documentation-management">3. Documentation Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html#version-management">4. Version Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/pytest.html">5. Pytest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/todo.html">6. ToDo</a></li>
</ul>
<p class="caption"><span class="caption-text">CLOUD ACCOUNTS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../accounts/aws.html">1. AWS Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/azure.html">2. Azure Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google.html">3. Google Storage Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/box.html">4. Box Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/accountcreation-old.html">5. VM Providers (outdated)</a></li>
</ul>
<p class="caption"><span class="caption-text">Outdated:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CM4README.html">1. CM4 Details (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vcluster.html">2. Virtual Cluster (in progress)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cloudmesh v4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>12. cloudmesh-emr</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/code/emr.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-cloudmesh.emr.api.manager">
<span id="cloudmesh-emr"></span><h1>12. cloudmesh-emr<a class="headerlink" href="#module-cloudmesh.emr.api.manager" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cloudmesh.emr.api.manager.Manager">
<em class="property">class </em><code class="descclassname">cloudmesh.emr.api.manager.</code><code class="descname">Manager</code><a class="reference internal" href="../_modules/cloudmesh/emr/api/manager.html#Manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.copy_file">
<code class="descname">copy_file</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.copy_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.describe_cluster">
<code class="descname">describe_cluster</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.describe_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><em>service='emr'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cloudmesh/emr/api/manager.html#Manager.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.get_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects to AWS and cre
:param service: The service to create a client for. Either S3 or EMR.
:return: boto3.client</p>
</dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.list">
<code class="descname">list</code><span class="sig-paren">(</span><em>parameter</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cloudmesh/emr/api/manager.html#Manager.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.list_clusters">
<code class="descname">list_clusters</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.list_clusters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.list_instances">
<code class="descname">list_instances</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.list_instances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.list_steps">
<code class="descname">list_steps</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.list_steps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.parse_options">
<code class="descname">parse_options</code><span class="sig-paren">(</span><em>options</em>, <em>states</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cloudmesh/emr/api/manager.html#Manager.parse_options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.parse_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to parse the arguments passed to the various EMR functions. Returns ‘all’ if it is in the
options list. Otherwise it’ll filter the list down to the valid options passed in states.
:param options: A list of strings. Contains the options the user entered.
:param states: A dictionary. Contains a mapping from user values (e.g. booting) to AWS values (BOOTSTRAPPING).
:return: A list of mapped values.</p>
</dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.start_cluster">
<code class="descname">start_cluster</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.start_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.stop_cluster">
<code class="descname">stop_cluster</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.stop_cluster" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cloudmesh.emr.api.manager.Manager.upload_file">
<code class="descname">upload_file</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.api.manager.Manager.upload_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-cloudmesh.emr.command.emr"></span><dl class="class">
<dt id="cloudmesh.emr.command.emr.EmrCommand">
<em class="property">class </em><code class="descclassname">cloudmesh.emr.command.emr.</code><code class="descname">EmrCommand</code><a class="reference internal" href="../_modules/cloudmesh/emr/command/emr.html#EmrCommand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cloudmesh.emr.command.emr.EmrCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="cmd5.html#cloudmesh.shell.command.PluginCommand" title="cloudmesh.shell.command.PluginCommand"><code class="xref py py-class docutils literal notranslate"><span class="pre">cloudmesh.shell.command.PluginCommand</span></code></a></p>
<dl class="method">
<dt id="cloudmesh.emr.command.emr.EmrCommand.do_emr">
<code class="descname">do_emr</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="headerlink" href="#cloudmesh.emr.command.emr.EmrCommand.do_emr" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Usage:</dt><dd><p>emr list clusters [–status=STATUS…] [–format=FORMAT]
emr list instances CLUSTERID [–status=STATUS…] [–type=TYPE…] [–format=FORMAT]
emr list steps CLUSTERID [–state=STATE…] [–format=FORMAT]
emr describe CLUSTERID [–format=FORMAT]
emr start NAME [–master=MASTER] [–node=NODE] [–count=COUNT]
emr stop CLUSTERID
emr upload FILE BUCKET BUCKETNAME
emr copy CLUSTERID BUCKET BUCKETNAME
emr run CLUSTERID BUCKET BUCKETNAME</p>
</dd>
</dl>
<p>This command is used to interface with Amazon Web Services
Elastic Map Reduce (EMR) service to run Apache Spark jobs.
It can start, list, and stop clusters and submit jobs to them.</p>
<dl>
<dt>Arguments:</dt><dd><p>CLUSTERID               The AWS Cluster ID.
NAME                    The name of the cluster.
FILE                    The local file to upload.
BUCKET                  The name of the S3 bucket to use.
BUCKETNAME              The name to file in the Bucket to use.</p>
</dd>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">--status=<var>STATUS</var></span></kbd></dt>
<dd><p>The status to search for.  [default: all]</p>
</dd>
<dt><kbd><span class="option">--type=<var>TYPE</var></span></kbd></dt>
<dd><p>The type of instance to search for.  [default: all]</p>
</dd>
<dt><kbd><span class="option">--format=<var>FORMAT</var></span></kbd></dt>
<dd><p>How to format the output.  [default: table]</p>
</dd>
<dt><kbd><span class="option">--master=<var>MASTER</var></span></kbd></dt>
<dd><p>The type of server to use for the master node. [default: m3.xlarge]</p>
</dd>
<dt><kbd><span class="option">--node=<var>NODE</var></span></kbd></dt>
<dd><p>The type of server to use for the worker nodes. [default: m3.xlarge]</p>
</dd>
<dt><kbd><span class="option">--count=<var>COUNT</var></span></kbd></dt>
<dd><p>The number of servers to use [default: 3]</p>
</dd>
<dt><kbd><span class="option">--state=<var>STATE</var></span></kbd></dt>
<dd><p>The state of the job step to filter for.</p>
</dd>
</dl>
</dd>
<dt>Description:</dt><dd><dl class="simple">
<dt>emr list clusters [–status=STATUS] [–format=FORMAT]</dt><dd><p>Lists all clusters viewable to the credentials with a given status [default: all]. Valid statuses are: start, boot, run, wait, terminating, shutdown, and error.</p>
</dd>
<dt>emr list instances [–status=STATUS…] [–format=FORMAT]</dt><dd><p>Lists all instances viewable to the credentials with a given status [default: all}. Valid statuses are: start, provision, boot, run, down. Valid types are: master, core, and task.</p>
</dd>
<dt>emr list steps CLUSTERID [–state=STATE…]</dt><dd><p>Lists all steps being performed by a cluster. Valid states are pending, canceling, running, completed cancelled, failed, and  interrupted</p>
</dd>
<dt>emr describe CLUSTERID</dt><dd><p>Describes a cluster. Lists its status, region, type, etc.</p>
</dd>
<dt>emr stop CLUSTERID</dt><dd><p>Stops a cluster. Once a shutdown is initiated, it cannot be undone.</p>
</dd>
<dt>emr start NAME [–master=MASTER] [–node=NODE] [–count=COUNT]</dt><dd><p>Starts a cluster with a given name, number of servers, and server type. Bootstraps with Hadoop and Spark.</p>
</dd>
<dt>emr copy BUCKET BUCKETNAME</dt><dd><p>Copy a file from S3 to the cluster’s master node.</p>
</dd>
<dt>emr run CLUSTERID BUCKET BUCKETNAME</dt><dd><p>Submit a spark application stored in an S3 bucket to the spark cluster.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../dev/conventions.html" class="btn btn-neutral float-right" title="1. Code Conventions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="batch.html" class="btn btn-neutral float-left" title="11. cloudmesh-batch" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2019, Cloudmesh Community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>