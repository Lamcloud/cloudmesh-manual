

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickstart &mdash; Cloudmesh v4 alpha documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuration" href="../configuration/configuration.html" />
    <link rel="prev" title="Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cloudmesh v4
          

          
          </a>

          
            
            
              <div class="version">
                4.0.28
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">PREFACE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preface/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/contributors.html">Contributors</a></li>
</ul>
<p class="caption"><span class="caption-text">INSTALLATION</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#manual">Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generating-the-key-and-certificate">Generating the Key and Certificate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validate-and-verify-the-key">Validate and verify the key</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initialization">Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initialize-keys-and-security-groups">Initialize keys and Security Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line">Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive-shell">Interactive shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-scripts">Command scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cache">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-quotes">Using quotes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-chameleon-cloud">Configuring chameleon cloud</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongo.html">Cloudmesh Database</a></li>
</ul>
<p class="caption"><span class="caption-text">MANUAL PAGES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cmd5.html">Cmd5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference-card.html">Reference Card</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-cmd5.html">Manual Cmd5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-group.html">Manual Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-compute.html">Compute Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-storage.html">Storage Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-other.html">Manual Other</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../jupyter/index.html">Jupyter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Cloudmesh Command API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html#cloudmesh-api">Cloudmesh API</a></li>
</ul>
<p class="caption"><span class="caption-text">CONTRIBUTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../projects/index.html">Cloudmesh Development Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/conventions.html">Code Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/manual.html">Documentation Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/manual.html#version-management">Version Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html">Code Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/pytest.html">Pytest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/todo.html">ToDo</a></li>
</ul>
<p class="caption"><span class="caption-text">CLOUD ACCOUNTS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../accounts/aws.html">AWS Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/azure.html">Azure Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google.html">Google Storage Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/box.html">Box Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/accountcreation-old.html">VM Providers (outdated)</a></li>
</ul>
<p class="caption"><span class="caption-text">OTHER</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tbd.html">OTHER</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tbd.html#outdated">OUTDATED</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cloudmesh v4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/installation/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">Â¶</a></h1>
<p>This quickstart assums you have already performed the following</p>
<ul class="simple">
<li><p>installed cloudmesh</p></li>
<li><p>installed mongodb either with the help of cloudmesh or another method</p></li>
</ul>
<p>One of the features up Cloudmesh is to easily start new virtual machines
on various clouds. It uses defaults for these clouds that can be changed,
but are easily stored in a yaml file located at
<code class="docutils literal notranslate"><span class="pre">~/.cloudmesh/cloudmesh.yaml</span></code> This file is created upon first start
of the shell. You need to edit it and include some of your cloud
information.</p>
<p>A template for the yaml file is located at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cloudmesh/cloudmesh-cloud/blob/master/cloudmesh/etc/cloudmesh.yaml">https://github.com/cloudmesh/cloudmesh-cloud/blob/master/cloudmesh/etc/cloudmesh.yaml</a></p></li>
</ul>
<p>Make sure that if you edited the yaml file that you check if it is correctly
formated. This can be done with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms config check
</pre></div>
</div>
<div class="section" id="manual">
<h2>Manual<a class="headerlink" href="#manual" title="Permalink to this headline">Â¶</a></h2>
<p>Before we start it is important to note that cloudmesh provides a quick way
to look at its documentation with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms open doc
</pre></div>
</div>
</div>
<div class="section" id="generating-the-key-and-certificate">
<h2>Generating the Key and Certificate<a class="headerlink" href="#generating-the-key-and-certificate" title="Permalink to this headline">Â¶</a></h2>
<p>If you do not have yet generated an ssh key you will have to do it now.
First, you need to create a public-private key with a passphrase. This
can be achieved with the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms config ssh keygen
</pre></div>
</div>
<p>Alternatively you can create a key as follows</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh-keygen -t rsa -m pem
</pre></div>
</div>
<p>In case you already have a key, that is not in pem format, you can convert it
with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>openssl rsa -in ~/.ssh/id_rsa -out ~/.ssh/id_rsa.pem
</pre></div>
</div>
</div>
<div class="section" id="validate-and-verify-the-key">
<h2>Validate and verify the key<a class="headerlink" href="#validate-and-verify-the-key" title="Permalink to this headline">Â¶</a></h2>
<p>To validate the key please use the cms commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms config ssh check
cms config ssh verify
</pre></div>
</div>
</div>
<div class="section" id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">Â¶</a></h2>
<p>To initialize cloudmesh and its database the easiest way is
calling the commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cms</span> <span class="n">init</span>
</pre></div>
</div>
<p>Note that the init command also starts the mongodb. This needs to be done
only one time. Form now on you can start and stop cloudmesh with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cms</span> <span class="n">start</span>
</pre></div>
</div>
<p>We recommend that after you are done working with cloudmesh to stop it with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cms</span> <span class="n">stop</span>
</pre></div>
</div>
</div>
<div class="section" id="initialize-keys-and-security-groups">
<h2>Initialize keys and Security Groups<a class="headerlink" href="#initialize-keys-and-security-groups" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>chameleon
cms sec load
cms sec group load default --cloud<span class="o">=</span>chameleon
cms key upload --cloud<span class="o">=</span>chameleon
</pre></div>
</div>
</div>
<div class="section" id="command-line">
<h2>Command line<a class="headerlink" href="#command-line" title="Permalink to this headline">Â¶</a></h2>
<p>After you started cms you can issue a number of commands. The benefit of
cloudmesh is that it is easy to switch betweeen clouds with the set command.
After the set and specifying the cloud by name many commands will default to
that cloud. The exception is the <code class="docutils literal notranslate"><span class="pre">vm</span> <span class="pre">list</span></code> command that lists by default
all vms on all clouds. In addition the <code class="docutils literal notranslate"><span class="pre">vm</span> <span class="pre">refresh</span></code> command will also
work on all clouds.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms start

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>chameleon
cms <span class="nb">set</span> <span class="nv">refresh</span><span class="o">=</span>True

cms vm boot
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>aws
cms vm boot
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>azure
cms vm boot
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>jetstream
cms vm boot
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>vagrant
cms vm boot
cms image list
cms flavor list

cms vm refresh
cms vm list

cms stop
</pre></div>
</div>
<p>In case you want a command explicitly apply to one or more clouds or one
or more vms, they can be specified by name such as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list --name vm<span class="o">[</span><span class="m">0</span>-100<span class="o">]</span>
cms vm list --cloud aws,azure
</pre></div>
</div>
<p>Defaults for the cloud and the name can be specified through set such as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">name</span><span class="o">=</span>vm<span class="o">[</span><span class="m">0</span>-100<span class="o">]</span>
cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>aws,azure
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>check if multiple clouds can be set and the list command works on
multiple clouds. Check this also for image and flavor commands</p>
</div>
<p>Using the commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list
</pre></div>
</div>
<p>would than add the appropriate options to the command. To reset the show
to all vms set name and cloud to all</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">name</span><span class="o">=</span>all
cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>all
</pre></div>
</div>
</div>
<div class="section" id="interactive-shell">
<h2>Interactive shell<a class="headerlink" href="#interactive-shell" title="Permalink to this headline">Â¶</a></h2>
<p>Cloudmesh uses cmd5 for its shell implementation and thus all commands
that are typed in in the terminal can also be typed in into a shell that
is started with cms</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms
cms&gt; <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>aws
cms&gt; vm boot
</pre></div>
</div>
</div>
<div class="section" id="command-scripts">
<h2>Command scripts<a class="headerlink" href="#command-scripts" title="Permalink to this headline">Â¶</a></h2>
<p>As we use cmd5 we also have access to piped and named scripts with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> script.cms <span class="p">|</span> cms
</pre></div>
</div>
<p>and</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms --script script.cms
</pre></div>
</div>
</div>
<div class="section" id="cache">
<h2>Cache<a class="headerlink" href="#cache" title="Permalink to this headline">Â¶</a></h2>
<p>All information about for example virtual machines are cached locally.
The cache for various information sources can be explicitly updated with
the <code class="docutils literal notranslate"><span class="pre">--refresh</span></code> flag. Thus the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list --refresh
cma flavor list --refresh
cma image list --refresh
</pre></div>
</div>
<p>would first execute a refresh while the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list
cms flavor list
cms image list
</pre></div>
</div>
<p>would only read from the local cache. To change the behavior and always do a
refresh from the cloud you can use the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">refresh</span><span class="o">=</span>True
</pre></div>
</div>
<p>To switch it off you can say</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">refresh</span><span class="o">=</span>False
</pre></div>
</div>
</div>
<div class="section" id="using-quotes">
<h2>Using quotes<a class="headerlink" href="#using-quotes" title="Permalink to this headline">Â¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In case you need to use quotes in the command line you need to
mask them with a bakslash.</p>
</div>
<p>Thus you would use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list --cloud<span class="o">=</span><span class="se">\&quot;</span>chameleon<span class="se">\&quot;</span>
</pre></div>
</div>
<p>However as there are no quotes needed in the provious command it can simply
be written as</p>
<blockquote>
<div><p>cms vm list âcloud=chameleon</p>
</div></blockquote>
</div>
<div class="section" id="configuring-chameleon-cloud">
<h2>Configuring chameleon cloud<a class="headerlink" href="#configuring-chameleon-cloud" title="Permalink to this headline">Â¶</a></h2>
<p>In many of the classes we teach you will have access to chameleon cloud. You
will get a cloudmesh.yaml file as part of the class in which you only need
to set your username and your password. This is done on the terminal with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms config <span class="nb">set</span> cloudmesh.cloud.chameleon.credentials.OS_USERNAME<span class="o">=</span>YOURUSERNAME
cms config <span class="nb">set</span> cloudmesh.cloud.chameleon.credentials.OS_PASSWORD<span class="o">=</span>YOURPASSWORD
</pre></div>
</div>
<p>Where YOURUSERNAME, and YOURPASSWORD is the account name and password from
the account givving you access to</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.chameleoncloud.org/">https://www.chameleoncloud.org/</a></p></li>
</ul>
<p>Thus if you have an account and are part of the class project, you can gain
access to an openstack cloud in seconds via cloudmesh.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../configuration/configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2019, Cloudmesh Community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>