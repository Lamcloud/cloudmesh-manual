

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Quickstart &mdash; Cloudmesh v4 alpha documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Configuration" href="../configuration/configuration.html" />
    <link rel="prev" title="1. Installation" href="install.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Cloudmesh v4
          

          
          </a>

          
            
            
              <div class="version">
                4.0.28
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">PREFACE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preface/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preface/contributors.html">2. Contributors</a></li>
</ul>
<p class="caption"><span class="caption-text">INSTALLATION</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">1. Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#manual">2.1. Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generating-the-key-and-certificate">2.2. Generating the Key and Certificate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validate-and-verify-the-key">2.3. Validate and verify the key</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-line">2.4. Command line</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive-shell">2.5. Interactive shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#command-scripts">2.6. Command scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cache">2.7. Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-quotes">2.8. Using quotes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/configuration.html">3. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="mongo.html">4. Cloudmesh Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/encryption.html">5. Cloudmesh Yaml file Encrytion</a></li>
</ul>
<p class="caption"><span class="caption-text">SOMMAND SHELL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cmd5.html">1. Cmd5</a></li>
</ul>
<p class="caption"><span class="caption-text">CLOUD SERVICES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../group.html">1. Group command</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/vm.html">2. Virtual Machine Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/image.html">3. Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/flavor.html">4. Flavors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/storage.html">5. Cloudmesh Multi Cloud Storage Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../workflow.html">6. Infrastructure Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter.html">7. Jupyter Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc/batch.html">8. Batch</a></li>
</ul>
<p class="caption"><span class="caption-text">openapi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../openapi/README-storage-openapi.html">1. Cloudmesh Multi Cloud Open API Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openapi/ufo.html">2. REST Service (outdated)</a></li>
</ul>
<p class="caption"><span class="caption-text">MANUAL PAGES</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference-card.html">1. Reference Card (proposed)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/commands.html">2. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual/commands.html#documented-commands-type-help-topic">3. Documented commands (type help &lt;topic&gt;):</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-cmd5.html">4. Manual Cmd5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-group.html">5. Manual Group</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-compute.html">6. Compute Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-storage.html">7. Storage Manual Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual-other.html">8. Manual Other</a></li>
</ul>
<p class="caption"><span class="caption-text">DATABASE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../storage/database.html">1. Cloudmesh Database</a></li>
</ul>
<p class="caption"><span class="caption-text">BENCHMARKS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/README.html">1. Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/awsec2-vm-management-benchmark.html">2. AWS EC2 VM Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/awsec2_benchmark_ubuntu.html">3. AWS EC2 VM Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/awss3-storage-benchmark.html">4. AWS S3 File Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/azure-storage-benchmark.html">5. Azure Blob Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/box.html">6. Benchmark results for box Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/emr.html">7. AWS EMR Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks/test_compute_database.html">8. AWS EC2 Compute Database</a></li>
</ul>
<p class="caption"><span class="caption-text">CODE</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code/code.html">1. Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/common.html">2. Common</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/cmd5.html">3. CMD5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/cloudmesh.html">4. Cloudmesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/management.html">5. Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/mongo.html">6. Mongo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/commands.html">7. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/inventory.html">8. Inventory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/storage.html">9. cloudmesh-storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/cloud.html">10. cloudmesh-cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/batch.html">11. cloudmesh-batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code/emr.html">12. cloudmesh-emr</a></li>
</ul>
<p class="caption"><span class="caption-text">CONTRIBUTION</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/conventions.html">1. Code Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html">2. Code Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html#documentation-management">3. Documentation Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/management.html#version-management">4. Version Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/pytest.html">5. Pytest</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/manual.html">6. Manual Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/todo.html">7. ToDo</a></li>
</ul>
<p class="caption"><span class="caption-text">CLOUD ACCOUNTS</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../accounts/aws.html">1. AWS Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/azure.html">2. Azure Account Creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/google.html">3. Google Storage Providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/box.html">4. Box Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/accountcreation-old.html">5. VM Providers (outdated)</a></li>
</ul>
<p class="caption"><span class="caption-text">Outdated:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CM4README.html">1. CM4 Details (outdated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vcluster.html">2. Virtual Cluster (in progress)</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cloudmesh v4</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>2. Quickstart</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/installation/quickstart.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quickstart">
<h1>2. Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>One of the features up Cloudmesh is to easily start new virtual machines
on vairous clouds. It uses defaults for these clouds that can be chaned,
but are easily stored in a yaml file located at
<code class="docutils literal notranslate"><span class="pre">~/.cloudmesh/cloudmesh4.yaml</span></code> This file is created upon first start
of the shell. You need to edit it and include some of your cloud
information.</p>
<p>A template for the yaml file is located at:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/cloudmesh/cloudmesh-cloud/blob/master/cloudmesh/etc/cloudmesh4.yaml">https://github.com/cloudmesh/cloudmesh-cloud/blob/master/cloudmesh/etc/cloudmesh4.yaml</a></p></li>
</ul>
<div class="section" id="manual">
<h2>2.1. Manual<a class="headerlink" href="#manual" title="Permalink to this headline">¶</a></h2>
<p>Before we start it is important to note that cloudmesh provides a quick lin
to its documentation. you can reach it with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms open doc
</pre></div>
</div>
<p>In case you are a developer and have installed the manual locally, you can
also obtain it with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms open doc <span class="nb">local</span>
</pre></div>
</div>
<p>However, in order for the local to work you must issue that command in the
<code class="docutils literal notranslate"><span class="pre">cloudmesh-manual</span></code> folder.</p>
</div>
<div class="section" id="generating-the-key-and-certificate">
<h2>2.2. Generating the Key and Certificate<a class="headerlink" href="#generating-the-key-and-certificate" title="Permalink to this headline">¶</a></h2>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>test if the key generation works</p>
</div>
<p>We can encrypt and decrypt files using generated random key as follows:</p>
<p>First, you need to create a public-private key with a passphrase. THis
can be achieved with the <code class="docutils literal notranslate"><span class="pre">cms</span> <span class="pre">key</span></code> command it assumes that you have
not jet created a key</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms config ssh keygen
</pre></div>
</div>
<p>Alternatively you can create a key as follows</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh-keygen -t rsa -m pem
</pre></div>
</div>
<p>In case you need to convert your key, to a pem certificate you can do it
as follows</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>openssl rsa -in ~/.ssh/id_rsa -out ~/.ssh/id_rsa.pem
</pre></div>
</div>
</div>
<div class="section" id="validate-and-verify-the-key">
<h2>2.3. Validate and verify the key<a class="headerlink" href="#validate-and-verify-the-key" title="Permalink to this headline">¶</a></h2>
<p>To validate the key please use the cms command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms config check
cms config verify
</pre></div>
</div>
</div>
<div class="section" id="command-line">
<h2>2.4. Command line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h2>
<p>It is easy to switch beteeen clouds with the set command. Ater the set
and specifying the cloud by name many commands will default to that
cloud. The exception is the <code class="docutils literal notranslate"><span class="pre">vm</span> <span class="pre">list</span></code> command that lists by default
all vms on all clouds. In addition the <code class="docutils literal notranslate"><span class="pre">vm</span> <span class="pre">refresh</span></code> command will also
work on all clouds.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms admin mongo create  <span class="c1"># needs only be done one time</span>
cms admin mongo start

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>vagrant
cms vm start
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>aws
cms vm start
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>azure
cms vm start
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>chameleon
cms vm start
cms image list
cms flavor list

cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>jetstream
cms vm start
cms image list
cms flavor list

cms vm refresh

cms vm list

cms admin mongo stop
</pre></div>
</div>
<p>In case you want a command explicitly apply to one or more clouds or one
or more vms, they can be specified by name such as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list --name vm<span class="o">[</span><span class="m">0</span>-100<span class="o">]</span>
cms vm list --cloud aws,azure
</pre></div>
</div>
<p>Defaults for the cloud and the name can be specified through set such as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">name</span><span class="o">=</span>vm<span class="o">[</span><span class="m">0</span>-100<span class="o">]</span>
cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>aws,azure
</pre></div>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>check if multiple clouds can be set and the list command works on
multiple clouds. Check this also for image and flavor commands</p>
</div>
<p>Using the commands</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list
</pre></div>
</div>
<p>would than add the appropriate options to the command. To reset the show
to all vms set name and cloud to all</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">name</span><span class="o">=</span>all
cms <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>all
</pre></div>
</div>
</div>
<div class="section" id="interactive-shell">
<h2>2.5. Interactive shell<a class="headerlink" href="#interactive-shell" title="Permalink to this headline">¶</a></h2>
<p>Cloudmesh uses cmd5 for its shell implementation and thus all commands
that are typed in in the terminal can also be typed in into a shell that
is started with cms</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms
cms&gt; <span class="nb">set</span> <span class="nv">cloud</span><span class="o">=</span>aws
cms&gt; vm start
</pre></div>
</div>
</div>
<div class="section" id="command-scripts">
<h2>2.6. Command scripts<a class="headerlink" href="#command-scripts" title="Permalink to this headline">¶</a></h2>
<p>As we use cmd5 we also have access to piped and named scripts with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> script.cms <span class="p">|</span> cms
</pre></div>
</div>
<p>and</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms --script script.cms
</pre></div>
</div>
</div>
<div class="section" id="cache">
<h2>2.7. Cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h2>
<p>All information about for example virtual machines are cached locally.
The cache for various information sources can be explicitly updated with
the <code class="docutils literal notranslate"><span class="pre">--refresh</span></code> flag. Thus the command</p>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>check if the list –refresh is implemented for vm, flavor, imgages,
for all clouds</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list --refresh
cma flavor list --refresh
cma image list --refresh
</pre></div>
</div>
<p>would first execute a refresh while the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms vm list
cms flavor list
cms image list
</pre></div>
</div>
<p>would only read from the local cache</p>
<p>To change the behavior and always do a refresh you can use the command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">refresh</span><span class="o">=</span>True
</pre></div>
</div>
<p>To switch it off you can say</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cms <span class="nb">set</span> <span class="nv">refresh</span><span class="o">=</span>False
</pre></div>
</div>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>check if refresh=True this is implemented.</p>
</div>
</div>
<div class="section" id="using-quotes">
<h2>2.8. Using quotes<a class="headerlink" href="#using-quotes" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In case you need to use quotes in the command line you need to mask them with a bakslash.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../configuration/configuration.html" class="btn btn-neutral float-right" title="3. Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral float-left" title="1. Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2019, Cloudmesh Community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>